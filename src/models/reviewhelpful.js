export default (sequelize, { DATE, NOW, INTEGER }) => {
  const ReviewHelpful = sequelize.define(
    "reviewhelpful",
    {
      helpfuldate: {
        type: DATE,
        defaultValue: NOW
      },
      balance: {
        type: INTEGER,
        validate: {
          min: 0,
          max: 2
        }
      }
    },
    {
      freezeTableName: true
    }
  );

  ReviewHelpful.associate = models => {
    ReviewHelpful.belongsTo(models.User, { foreignKey: "userid" });
    ReviewHelpful.belongsTo(models.Review, { foreignKey: "reviewid" });
  };

  //Remove autogenerated primary key
  ReviewHelpful.removeAttribute("id");

  return ReviewHelpful;
};
